+++
date = '2025-02-08T22:24:32+09:00'
draft = false
title = 'Executerole'
+++

## 5.1 role の実行
では実行してみましょう  
-i　オプションでインベントリファイルを指定し 実行するプレイブックファイルを指定します。
▽実行方法

```bash
$ docker exec -it dev-ansible /bin/bash
[root@ccf3d9c92518 /]# su - ansible
[ansible@ccf3d9c92518 ~]$ cd study
[ansible@ccf3d9c92518 study]$ 

[ansible@ccf3d9c92518 study]$ansible-playbook -i inventory.ini playbook.yml
```

[ansible@ccf3d9c92518 study]$ ansible-playbook -i inventory.ini playbook.yml
[WARNING]: log file at /home/ansible/ansible_projects/ansible.log is not writeable and we cannot create it, aborting

実行に成功すると下記のようにTASK で指定した状態と異なる設定はchangedで表示され
最後にPLAY RECAPが表示されます。
```bash
PLAY [Deploy Apache Server] ************************************************************************************************************************************************************************************************************************************************

TASK [Gathering Facts] *****************************************************************************************************************************************************************************************************************************************************
ok: [svx01]
ok: [svx02]

TASK [httpd : Install Apache] **********************************************************************************************************************************************************************************************************************************************
changed: [svx01]
changed: [svx02]

TASK [httpd : Start and enable Apache] *************************************************************************************************************************************************************************************************************************************
changed: [svx02]
changed: [svx01]

PLAY RECAP *****************************************************************************************************************************************************************************************************************************************************************
svx01                      : ok=3    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
svx02                      : ok=3    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
```